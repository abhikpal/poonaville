<!DOCTYPE html>
<html>
  <head>
    {# LOCAL FILES FOR DEVELOPMENT #}
    <script type="text/javascript" src="/static/js/ext/jquery.js"></script>
    <script type="text/javascript" src="/static/js/ext/socket.io.js"></script>
    <script type="text/javascript" src="/static/js/ext/processing.js"></script>
    
    {# CDNs FOR PRODUCTION SERVER #}
    {# <script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script> #}
    {# <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js"></script> #}

    <script type="text/javascript">
      cx = 100;
      cy = 100;

      $(document).ready(function() {
          namespace = '/projection';

          // Connect to the Socket.IO server.
          var socket = io.connect('http://' + document.domain + ':' + location.port + namespace);

          socket.on('movement', function(msg) {
              cx = cx + 25*Number(msg.x);
              cy = cy - 25*Number(msg.y);
              // $('#projection').append('<br>' + $('<div/>').text(msg.x + ", " + msg.y).html());
          });
      });

    </script>
    {# <script type="text/javascript" src="/static/js/projection.js"></script> #}
    <script type="text/processing" data-processing-target="processing-canvas">
    void setup() {
      size(800, 800);
      background(51);
      stroke(255);
    }

    void draw() {
      background(51);
      ellipse(cx, cy, 100, 100);
    }
    </script>
  </head>
  <body style="background: rgb(51, 51, 51);">
    <center>
      <canvas id="processing-canvas"></canvas>
    </center>
    {# <div id="projection"></div> #}
  </body>
</html>
